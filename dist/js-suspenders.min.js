/*! js-suspenders 0.0.2 (RoboJS Build) | MIT */
!function(a,b){"function"==typeof define&&define.amd?define(["lodash"],b):a.jss=b(window._)}(this,function(a){"use strict";var b={},c={__keyPrefix:new Date+"",isString:function(a){return"string"==typeof a||a&&"object"==typeof a&&"[object String]"==toString.call(a)||!1},isArray:Array.isArray,isFunction:function(a){return"function"==typeof a},memoize:function(a,b){if(!c.isFunction(a))throw new TypeError;var d=function(){var e=d.cache,f=b?b.apply(this,arguments):c.__keyPrefix+arguments[0];return Object.prototype.hasOwnProperty.call(e,f)?e[f]:e[f]=a.apply(this,arguments)};return d.cache={},d},functionName:function(a){var b=a.toString();return b=b.substr("function ".length),b=b.substr(0,b.indexOf("(")),b.trim()},getQualifiedClassName:function(a){return c.isString(a)?a:c.isFunction(a)?a.name||c.functionName(a):c.isArray(a)?(a=a[a.length-1],a.name||c.functionName(a)):a},getId:function(a,b){return b||c.getQualifiedClassName(a)}},d={create:function(a,b){return{apply:function(a,b){return b(a)}.bind(this,a,b),destroy:function(a,b){a&&b&&b.hasManagedInstance(a)&&b.destroyInstance(a)}.bind(this,a)}}},e={create:function(b,c,e,f){var g=a.partial(function(a,b,c){a[b]=c},b.providerMappings,f),h=a.compose(g,d.create),i=a.partial(function(a,b){return a[b]},b.providerMappings,f);return h(c,b.instantiateUnmapped.bind(b)),{asSingleton:a.wrap(a.partial(h,c,a.memoize(b.instantiateUnmapped.bind(b))),function(a,d){return a(),d&&b.getInstance(c,e)}),toType:a.partialRight(h,b.instantiateUnmapped.bind(b)),toValue:a.partialRight(h,function(a){return a}),hasProvider:i,getProvider:i}}},f={capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},findConstructorParams:function(a){var b=[];if(a.length){var c=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,d=/,/,e=/^\s*(_?)(\S+?)\1\s*$/,f=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,g=a.toString().replace(f,""),h=g.match(c),i=this;b=h[1].split(d).map(function(a){return a.replace(e,function(a,b,c){return i.capitalize(c)})})}return b},getInstanceDescription:function(a){var b=[];return c.isArray(a)?b=a.slice(0,-1):c.isString(a)?b=[]:c.isFunction(a)&&(b=this.findConstructorParams(a)),b},describeInjections:function(a){return{createInstance:this.createInstance.bind(this,this.getInstanceDescription(a))}},createInstance:function(a,b,d){var e=c.isArray(b)?b[b.length-1]:b,f=a.map(function(a){return d.getProvider(a).apply(b,d)});return f.unshift(b),new(e=e.bind.apply(e,f))}},g={_managedObjects:{},providerMappings:{},_descriptionsCache:{},getDescription:c.memoize(function(a){return this._descriptionsCache[a]=f.describeInjections(a),this._descriptionsCache[a]}),map:c.memoize(function(b,d){var f=e.create.bind(e,this,b,d);return a.compose(f,c.getId)(b,d)},c.getId),unmap:function(a,b){var d=c.getId(a,b),e=this.map.cache[d];e&&e.getProvider().destroy(),delete this.map.cache[d],delete this.providerMappings[d],delete this._descriptionsCache[a]},getOrCreateNewInstance:function(a,b){return this.satisfies(a,b)&&this.getInstance(a,b)||this.instantiateUnmapped(a)},satisfies:function(a,b){var d=c.getId(a,b);return null!=this.getProvider(d,!0)},satisfiesDirectly:function(a,b){return this.hasDirectMapping(a,b)},getMapping:function(a,b){return this.map.cache[c.getId(a,b)]},hasManagedInstance:function(a){return this._managedObjects[a]},getInstance:function(a,b){var d=c.getId(a,b),e=this.getProvider(d);return e&&e.apply(a,this)},instantiateUnmapped:function(a){return this.getDescription(a).createInstance(a,this)},destroyInstance:function(a){delete this._managedObjects[a]},teardown:function(){this.map.cache.forEach(function(a){a.getProvider().destroy()});var a=[];for(this._managedObjects.forEach(function(b){b&&a.push(b)});a.length;)this.destroyInstance(a.pop());this.providerMappings.forEach(function(a){delete this.providerMappings[a]}),this.map.cache={},this._managedObjects={},this._descriptionsCache={}},hasDirectMapping:function(a,b){return null!=this.map.cache[c.getId(a,b)]},getProvider:function(a){return this.providerMappings[a]}};return b={Injector:g}});
//# sourceMappingURL=js-suspenders.min.js.map